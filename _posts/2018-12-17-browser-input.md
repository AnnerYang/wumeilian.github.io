---
layout:     post
title:      "浏览器地址栏输入url到页面展示到底发生了什么？"
subtitle:   ""
author:     "wml"
header-img: "img/browser/1.jpg"
header-mask:  0.5
catalog: true
tags:

    - browser
---

### 前言

作为一个前端工程师，不可避免的需要了解浏览器工作的原理；

而面试中问得最多的也就是浏览器地址栏输入url到页面展示这个过程发生了什么？

要回答这个问题首先得了解浏览器的工作原理。

### 浏览器机制

现代操作系统都是支持多任务的，即操作系统可以运行多个任务，比如可以一边浏览器上网，一边听音乐，一边用记事本打字，这就是多任务执行。对操作系统来说，一个任务就是一个进程（process）。进程内又包含一个或者多个线程协同工作。

#### 进程与线程

进程是cpu资源分配的最小单位，是能有用资源和独立运行的最小单位；

线程是cpu调度的最小单位，是建立成进程基础上的一次程序运行单位。

举个最耳熟能详的工厂例子：

进程是一个工厂，有独立的资源，即操作系统系统分配的独立内存；

工厂相互独立，即进程之间相互独立，可以使用IPC（Inter Process Communication）进行通信；

线程是工厂中的工人，至少有一个或多个工人协同完成工作；

工人共享空间，即线程之间共享内存空间辅助工作。

#### 浏览器进程

以Chrome浏览器为例，Chrome采用多进程架构。浏览器每开一个标签页就相当于创建了一个独立的浏览器进程，可通过浏览器自带任务管理器查看进程：

![progress](/img/browser/2.png)

浏览器主要进程及职责如下：

1、Browser Process(浏览器主进程)：

* 负责地址栏，书签栏，前进后退按钮工作；
* 负责各个页面的管理，创建和销毁其他进程；
* 负责浏览器一些不可见的底层操作，如网络资源的管理和下载。

2、Renderer Process（浏览器渲染进程，浏览器内核）：

* 负责一个tab内的页面渲染，脚本执行，事件处理等。

3、Plugin Process（第三方插件进程）：

* 负责控制一个网页中的所有插件，每种类型的插件对应一个进程。

4、GPU Process（GPU进程）

* 负责处理 GPU 相关的任务

![progress](/img/browser/3.png)

#### 浏览器主进程

#### 浏览器渲染进程

### 总结

工作时间久了，专注于业务开发，很多时候会往往会忽视真正原理性的东西，知其然而不知其所以然；前端领域可以算得上是日新月异了，各种新框架技术层出不穷，但是抽茧剥丝后会发现其实都是基础性的东西。一个好的前端开发工程师，广度固然重要，深度也是必不可少的一环，基础越扎实，才能以不变应万变。

### 相关链接

[What happens in navigation](https://developers.google.com/web/updates/2018/09/inside-browser-part2#what_happens_in_navigation)

[进程与线程的一个简单解释](http://www.ruanyifeng.com/blog/2013/04/processes_and_threads.html)